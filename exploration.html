<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1">

<style type="text/css">
@font-face {
font-family: octicons-link;
src: url(data:font/woff;charset=utf-8;base64,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) format('woff');
}
body {
-webkit-text-size-adjust: 100%;
text-size-adjust: 100%;
color: #333;
font-family: "Helvetica Neue", Helvetica, "Segoe UI", Arial, freesans, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
font-size: 16px;
line-height: 1.6;
word-wrap: break-word;
}
a {
background-color: transparent;
}
a:active,
a:hover {
outline: 0;
}
strong {
font-weight: bold;
}
h1 {
font-size: 2em;
margin: 0.67em 0;
}
img {
border: 0;
}
hr {
box-sizing: content-box;
height: 0;
}
pre {
overflow: auto;
}
code,
kbd,
pre {
font-family: monospace, monospace;
font-size: 1em;
}
input {
color: inherit;
font: inherit;
margin: 0;
}
html input[disabled] {
cursor: default;
}
input {
line-height: normal;
}
input[type="checkbox"] {
box-sizing: border-box;
padding: 0;
}
table {
border-collapse: collapse;
border-spacing: 0;
}
td,
th {
padding: 0;
}
* {
box-sizing: border-box;
}
input {
font: 13px / 1.4 Helvetica, arial, nimbussansl, liberationsans, freesans, clean, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
}
a {
color: #4078c0;
text-decoration: none;
}
a:hover,
a:active {
text-decoration: underline;
}
hr {
height: 0;
margin: 15px 0;
overflow: hidden;
background: transparent;
border: 0;
border-bottom: 1px solid #ddd;
}
hr:before {
display: table;
content: "";
}
hr:after {
display: table;
clear: both;
content: "";
}
h1,
h2,
h3,
h4,
h5,
h6 {
margin-top: 15px;
margin-bottom: 15px;
line-height: 1.1;
}
h1 {
font-size: 30px;
}
h2 {
font-size: 21px;
}
h3 {
font-size: 16px;
}
h4 {
font-size: 14px;
}
h5 {
font-size: 12px;
}
h6 {
font-size: 11px;
}
blockquote {
margin: 0;
}
ul,
ol {
padding: 0;
margin-top: 0;
margin-bottom: 0;
}
ol ol,
ul ol {
list-style-type: lower-roman;
}
ul ul ol,
ul ol ol,
ol ul ol,
ol ol ol {
list-style-type: lower-alpha;
}
dd {
margin-left: 0;
}
code {
font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;
font-size: 12px;
}
pre {
margin-top: 0;
margin-bottom: 0;
font: 12px Consolas, "Liberation Mono", Menlo, Courier, monospace;
}
.select::-ms-expand {
opacity: 0;
}
.octicon {
font: normal normal normal 16px/1 octicons-link;
display: inline-block;
text-decoration: none;
text-rendering: auto;
-webkit-font-smoothing: antialiased;
-moz-osx-font-smoothing: grayscale;
-webkit-user-select: none;
-moz-user-select: none;
-ms-user-select: none;
user-select: none;
}
.octicon-link:before {
content: '\f05c';
}
.markdown-body:before {
display: table;
content: "";
}
.markdown-body:after {
display: table;
clear: both;
content: "";
}
.markdown-body>*:first-child {
margin-top: 0 !important;
}
.markdown-body>*:last-child {
margin-bottom: 0 !important;
}
a:not([href]) {
color: inherit;
text-decoration: none;
}
.anchor {
display: inline-block;
padding-right: 2px;
margin-left: -18px;
}
.anchor:focus {
outline: none;
}
h1,
h2,
h3,
h4,
h5,
h6 {
margin-top: 1em;
margin-bottom: 16px;
font-weight: bold;
line-height: 1.4;
}
h1 .octicon-link,
h2 .octicon-link,
h3 .octicon-link,
h4 .octicon-link,
h5 .octicon-link,
h6 .octicon-link {
color: #000;
vertical-align: middle;
visibility: hidden;
}
h1:hover .anchor,
h2:hover .anchor,
h3:hover .anchor,
h4:hover .anchor,
h5:hover .anchor,
h6:hover .anchor {
text-decoration: none;
}
h1:hover .anchor .octicon-link,
h2:hover .anchor .octicon-link,
h3:hover .anchor .octicon-link,
h4:hover .anchor .octicon-link,
h5:hover .anchor .octicon-link,
h6:hover .anchor .octicon-link {
visibility: visible;
}
h1 {
padding-bottom: 0.3em;
font-size: 2.25em;
line-height: 1.2;
border-bottom: 1px solid #eee;
}
h1 .anchor {
line-height: 1;
}
h2 {
padding-bottom: 0.3em;
font-size: 1.75em;
line-height: 1.225;
border-bottom: 1px solid #eee;
}
h2 .anchor {
line-height: 1;
}
h3 {
font-size: 1.5em;
line-height: 1.43;
}
h3 .anchor {
line-height: 1.2;
}
h4 {
font-size: 1.25em;
}
h4 .anchor {
line-height: 1.2;
}
h5 {
font-size: 1em;
}
h5 .anchor {
line-height: 1.1;
}
h6 {
font-size: 1em;
color: #777;
}
h6 .anchor {
line-height: 1.1;
}
p,
blockquote,
ul,
ol,
dl,
table,
pre {
margin-top: 0;
margin-bottom: 16px;
}
hr {
height: 4px;
padding: 0;
margin: 16px 0;
background-color: #e7e7e7;
border: 0 none;
}
ul,
ol {
padding-left: 2em;
}
ul ul,
ul ol,
ol ol,
ol ul {
margin-top: 0;
margin-bottom: 0;
}
li>p {
margin-top: 16px;
}
dl {
padding: 0;
}
dl dt {
padding: 0;
margin-top: 16px;
font-size: 1em;
font-style: italic;
font-weight: bold;
}
dl dd {
padding: 0 16px;
margin-bottom: 16px;
}
blockquote {
padding: 0 15px;
color: #777;
border-left: 4px solid #ddd;
}
blockquote>:first-child {
margin-top: 0;
}
blockquote>:last-child {
margin-bottom: 0;
}
table {
display: block;
width: 100%;
overflow: auto;
word-break: normal;
word-break: keep-all;
}
table th {
font-weight: bold;
}
table th,
table td {
padding: 6px 13px;
border: 1px solid #ddd;
}
table tr {
background-color: #fff;
border-top: 1px solid #ccc;
}
table tr:nth-child(2n) {
background-color: #f8f8f8;
}
img {
max-width: 100%;
box-sizing: content-box;
background-color: #fff;
}
code {
padding: 0;
padding-top: 0.2em;
padding-bottom: 0.2em;
margin: 0;
font-size: 85%;
background-color: rgba(0,0,0,0.04);
border-radius: 3px;
}
code:before,
code:after {
letter-spacing: -0.2em;
content: "\00a0";
}
pre>code {
padding: 0;
margin: 0;
font-size: 100%;
word-break: normal;
white-space: pre;
background: transparent;
border: 0;
}
.highlight {
margin-bottom: 16px;
}
.highlight pre,
pre {
padding: 16px;
overflow: auto;
font-size: 85%;
line-height: 1.45;
background-color: #f7f7f7;
border-radius: 3px;
}
.highlight pre {
margin-bottom: 0;
word-break: normal;
}
pre {
word-wrap: normal;
}
pre code {
display: inline;
max-width: initial;
padding: 0;
margin: 0;
overflow: initial;
line-height: inherit;
word-wrap: normal;
background-color: transparent;
border: 0;
}
pre code:before,
pre code:after {
content: normal;
}
kbd {
display: inline-block;
padding: 3px 5px;
font-size: 11px;
line-height: 10px;
color: #555;
vertical-align: middle;
background-color: #fcfcfc;
border: solid 1px #ccc;
border-bottom-color: #bbb;
border-radius: 3px;
box-shadow: inset 0 -1px 0 #bbb;
}
.pl-c {
color: #969896;
}
.pl-c1,
.pl-s .pl-v {
color: #0086b3;
}
.pl-e,
.pl-en {
color: #795da3;
}
.pl-s .pl-s1,
.pl-smi {
color: #333;
}
.pl-ent {
color: #63a35c;
}
.pl-k {
color: #a71d5d;
}
.pl-pds,
.pl-s,
.pl-s .pl-pse .pl-s1,
.pl-sr,
.pl-sr .pl-cce,
.pl-sr .pl-sra,
.pl-sr .pl-sre {
color: #183691;
}
.pl-v {
color: #ed6a43;
}
.pl-id {
color: #b52a1d;
}
.pl-ii {
background-color: #b52a1d;
color: #f8f8f8;
}
.pl-sr .pl-cce {
color: #63a35c;
font-weight: bold;
}
.pl-ml {
color: #693a17;
}
.pl-mh,
.pl-mh .pl-en,
.pl-ms {
color: #1d3e81;
font-weight: bold;
}
.pl-mq {
color: #008080;
}
.pl-mi {
color: #333;
font-style: italic;
}
.pl-mb {
color: #333;
font-weight: bold;
}
.pl-md {
background-color: #ffecec;
color: #bd2c00;
}
.pl-mi1 {
background-color: #eaffea;
color: #55a532;
}
.pl-mdr {
color: #795da3;
font-weight: bold;
}
.pl-mo {
color: #1d3e81;
}
kbd {
display: inline-block;
padding: 3px 5px;
font: 11px Consolas, "Liberation Mono", Menlo, Courier, monospace;
line-height: 10px;
color: #555;
vertical-align: middle;
background-color: #fcfcfc;
border: solid 1px #ccc;
border-bottom-color: #bbb;
border-radius: 3px;
box-shadow: inset 0 -1px 0 #bbb;
}
.task-list-item {
list-style-type: none;
}
.task-list-item+.task-list-item {
margin-top: 3px;
}
.task-list-item input {
margin: 0 0.35em 0.25em -1.6em;
vertical-align: middle;
}
:checked+.radio-label {
z-index: 1;
position: relative;
border-color: #4078c0;
}
.sourceLine {
display: inline-block;
}
code .kw { color: #000000; }
code .dt { color: #ed6a43; }
code .dv { color: #009999; }
code .bn { color: #009999; }
code .fl { color: #009999; }
code .ch { color: #009999; }
code .st { color: #183691; }
code .co { color: #969896; }
code .ot { color: #0086b3; }
code .al { color: #a61717; }
code .fu { color: #63a35c; }
code .er { color: #a61717; background-color: #e3d2d2; }
code .wa { color: #000000; }
code .cn { color: #008080; }
code .sc { color: #008080; }
code .vs { color: #183691; }
code .ss { color: #183691; }
code .im { color: #000000; }
code .va {color: #008080; }
code .cf { color: #000000; }
code .op { color: #000000; }
code .bu { color: #000000; }
code .ex { color: #000000; }
code .pp { color: #999999; }
code .at { color: #008080; }
code .do { color: #969896; }
code .an { color: #008080; }
code .cv { color: #008080; }
code .in { color: #008080; }
</style>
<style>
body {
box-sizing: border-box;
min-width: 200px;
max-width: 980px;
margin: 0 auto;
padding: 45px;
padding-top: 0px;
}
</style>


</head>

<body>

<h1 id="data-wrangling-and-exploration-on-torontos-pedestrian-collisions-and-injured-persons-data">Data
Wrangling and Exploration on Toronto’s Pedestrian collisions and Injured
Persons Data</h1>
<p>2023-01-09</p>
<h1 id="id_1-background">1. Background</h1>
<p>A bad data set that has errors is more likely to produce unreliable
insights. This exercise is grouped into two main sections, which are
data wrangling and data exploration. The goal is to produce a reliable
dataset that can be used to produce reliable insights for the Ministry
of Transportation.</p>
<h2 id="id_11-data-wrangling">1.1 Data Wrangling</h2>
<p>In this section, a) I will familiarize myself with the data (data
discovery), b) clean the data by removing potential outliers, drop
missing/empty information or replace them using imputation if
appropriate, and identify row and column duplicates, c) extract relevant
columns or create new variables from existing columns, and d) validate
the data by ensuring that columns contain consistent, accurate and
expected range of values.</p>
<h3 id="a-data-discovery">A. Data Discovery</h3>
<p>The number of rows and columns of the collision data are 504,069 and
12, respectively. Eight of the variables are non-numeric. The
involved_persons data, which focuses on pedestrian collisions, has
16,045 rows and 15 columns or variables. Most of the columns of both
data have significant amounts of missing (NA) or empty information
(Table 1 and 2).</p>
<h4 id="table-1-number-of-missing-and-empty-information-in-the-collision-data">Table
1. Number of missing and empty information in the collision data</h4>
<table>
<thead>
<tr class="header">
<th align="left">variable</th>
<th align="right">sum_missing</th>
<th align="right">sum_empty</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">collision_no</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">accdate</td>
<td align="right">0</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">district</td>
<td align="right">0</td>
<td align="right">39738</td>
</tr>
<tr class="even">
<td align="left">latitude</td>
<td align="right">13</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">longitude</td>
<td align="right">13</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">impact_type</td>
<td align="right">0</td>
<td align="right">276</td>
</tr>
<tr class="odd">
<td align="left">light</td>
<td align="right">0</td>
<td align="right">381</td>
</tr>
<tr class="even">
<td align="left">location_class</td>
<td align="right">0</td>
<td align="right">216939</td>
</tr>
<tr class="odd">
<td align="left">road_surface_cond</td>
<td align="right">0</td>
<td align="right">326</td>
</tr>
<tr class="even">
<td align="left">road_class</td>
<td align="right">0</td>
<td align="right">34711</td>
</tr>
<tr class="odd">
<td align="left">traffic_control</td>
<td align="right">0</td>
<td align="right">1564</td>
</tr>
<tr class="even">
<td align="left">visibility</td>
<td align="right">0</td>
<td align="right">3693</td>
</tr>
</tbody>
</table>
<h4 id="table-2-number-of-missing-and-empty-information-in-the-involved-persons-data">Table
2. Number of missing and empty information in the involved persons
data</h4>
<table>
<thead>
<tr class="header">
<th align="left">variable</th>
<th align="right">sum_missing</th>
<th align="right">sum_empty</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">collision_no</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">rec_id</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">accdate</td>
<td align="right">0</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">actual_speed</td>
<td align="right">14830</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">driver_condition</td>
<td align="right">0</td>
<td align="right">15870</td>
</tr>
<tr class="even">
<td align="left">impact_location</td>
<td align="right">0</td>
<td align="right">4192</td>
</tr>
<tr class="odd">
<td align="left">involved_injury_class</td>
<td align="right">0</td>
<td align="right">6</td>
</tr>
<tr class="even">
<td align="left">involved_age</td>
<td align="right">384</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">involved_class</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">manoeuver</td>
<td align="right">0</td>
<td align="right">15506</td>
</tr>
<tr class="odd">
<td align="left">pedestrian_action</td>
<td align="right">0</td>
<td align="right">1126</td>
</tr>
<tr class="even">
<td align="left">pedestrian_condition</td>
<td align="right">0</td>
<td align="right">169</td>
</tr>
<tr class="odd">
<td align="left">pedestrian_collision_type</td>
<td align="right">0</td>
<td align="right">1455</td>
</tr>
<tr class="even">
<td align="left">posted_speed</td>
<td align="right">14110</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">vehicle_class</td>
<td align="right">0</td>
<td align="right">12372</td>
</tr>
</tbody>
</table>
<p>For the involved_persons data, the columns, actual_speed,
driver_condition, posted_speed, impact_location, manoeuver, and
vehicle_class, have a significant missing or empty information problem.
Similarly, the columns, district, location_class, and road_class, in the
collisions data have significant missing or empty information.</p>
<h3 id="b-data-cleaning">B. Data Cleaning</h3>
<p>I generated a preprocess function (in the function script,
R/functions.R) which is used to clean the data. First, I dropped all the
columns suggested in the data discovery step above. I dropped the
remaining columns, which had some amount of missing or empty
information. Subsequently, I checked for duplicate rows in both data.
There were no duplicate rows in the collision data. However, there were
significant duplicates in the involved_persons data. For each
duplicate(s) in the involved_persons data; I retained only one row.
Also, in this step, I created the outcome variable (serious_fatal) from
the involved_persons data (specifically, the involved_injury_class
column). The serious_fatal equals 1 if the involved_injury_class is
fatal or major; it was converted to a factor variable.</p>
<h3 id="c-data-transformation">C. Data Transformation</h3>
<p>First, I performed a left join operation on the two data sets, using
the collision_no column as the common id. The number of rows for the new
data is 1,595. Also, I created 10 binary variables from the existing
columns. The variables are defined as follows:</p>
<ol style="list-style-type: decimal">
<li><p>age_65_plus: equals 1 if the pedestrian’s age is 65 or more and 0
otherwise.</p></li>
<li><p>impaired_pedestrian_condition: equals 1 if the pedestrian has
been drinking or has impaired ability from drugs or alcohol or has been
drinking or has ability impaired with alcohol over .80, and 0
otherwise.</p></li>
<li><p>pedestrian_inattentive: equals 1 if the pedestrian condition is
inattentive.</p></li>
<li><p>collision_midblock: equals 1 if pedestrian_collision_type is
pedestrian hit at mid-block.</p></li>
<li><p>collision_inter_wrow: equals 1 if pedestrian_collision_type is
the vehicle going through the intersection while the pedestrian crosses
without a row or vehicle turns left while the pedestrian crosses without
row at the intersection or the vehicle turns right while the pedestrian
crosses without row at the intersection.</p></li>
<li><p>collision_inter_row: equals 1 if pedestrian_collision_type is the
vehicle going through the intersection while the pedestrian cross with
row or the vehicle turns left while the pedestrian crosses with row at
the intersection or the vehicle turns right while the pedestrian crosses
with row at the intersection.</p></li>
<li><p>collision_transit: equals 1 if pedestrian_collision_type is a
pedestrian involved in a collision with a transit vehicle anywhere along
the roadway.</p></li>
<li><p>weather_bad: equals 1 if visibility is “fog, mist, smoke or dust”
or strong wind or drifting snow or freezing rain.</p></li>
<li><p>no_traffic_control: equals 1 if traffic control is no
control.</p></li>
<li><p>dark: equals 1 if light is dark artificial or dark or dusk or
dusk artificial or dawn artificial or dawn.</p></li>
</ol>
<p>In addition, I dropped the other variables except for the outcome
variable (serious_fatal), latitude, and longitude. These variables will
be used to estimate the probability that an accident will be fatal or
major. Again, a correlation heat map showed that might not be a
multicollinearity problem in the model estimation phase. A Pearson’s
correlation map reveals that multicollinearity might be a problem in
model estimation. To generate robust performance metrics, I generated
both a test set and a validation set. First, 20% of the data was set
aside as a test set and the remaining 80% as a train set. Further, 20%
of the train data was set aside as a validation set; the model was
trained on the remaining train data.</p>
<h3 id="d-data-validation">D. Data Validation</h3>
<p>All the selected variables for model estimation have expected values,
accurate and consistent. The problem is that the level (pedestrians with
major or fatal collisions) is underrepresented in the outcome variable
(11% of the total sample, Table 2). Model estimation with this data will
produce bias and unreliable inference. To solve this problem, I employed
a SMOTE algorithm to re-balance the data. After the data re-balancing,
the data set produced a relatively balanced outcome distribution
(pedestrians collisions that resulted in major injury or fatality
accounted for 24% of the rows of the dataset.</p>
<h4 id="summary">Summary</h4>
<p>The major data quality issues were missing or empty information and
imbalanced data regarding the classes in the outcome variable. For this
reason, in particular, the imbalance data problem, I do not expect the
model to provide better performance metric statistics and statistical
inference. However, the study could provide important qualitative
insights to help in enhancing road safety in the City of Toronto.</p>

</body>
</html>
